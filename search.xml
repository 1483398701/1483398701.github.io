<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>课室团队故障手册（长期更新）</title>
    <url>/2020/08/02/kstd/</url>
    <content><![CDATA[<pre><code>这里的内容是个人的经验总结，如有遗漏或错误欢迎指正</code></pre>
<h2 id="硬件故障"><a href="#硬件故障" class="headerlink" title="硬件故障"></a>硬件故障</h2><h3 id="电脑"><a href="#电脑" class="headerlink" title="电脑"></a>电脑</h3><ul>
<li><p>电脑无法启动</p>
<blockquote>
<p>（1）检查中控是否有开启<br>（2）检查电脑是否能手动开机（如果可以，则有可能电脑与中控间插线没有插好）<br>（3）检查电脑电源是否有插好<br>（4）检查电脑硬件</p>
</blockquote>
</li>
</ul>
<a id="more"></a>

<ul>
<li>无画面输出<ul>
<li>电脑、显示屏、投影正常运行，但无画面输出<blockquote>
<p>（1） 中控断电15s后开启<br>（2） 中控上面台式电脑的接线直接接显示屏，看是否有输出，逐渐排除线路，看哪条线坏了</p>
</blockquote>
</li>
<li>投影有画面，但显示屏无画面<blockquote>
<p>（1）检查电源线以及中控→显示器的VGA线是否正常</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>电脑无网络</p>
<blockquote>
<p>（1）查看是否正确获取IP（方法如下），若IP冲突向老师询问剩余可用IP</p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">win+r     &#x2F;&#x2F;打开运行窗口</span><br><span class="line">cmd       &#x2F;&#x2F;打开命令提示符</span><br><span class="line">ipconfig  &#x2F;&#x2F;查看以太网卡参数</span><br></pre></td></tr></table></figure>
<p>（2）若网络电缆未连接检查网线是否松动，若接入交换机，可尝试直接从用交换机总线连接电脑，课后尝试更换交换与电脑间的网线</p>
</blockquote>
</li>
<li><p>U盘无反应</p>
<blockquote>
<p>（1）请尝试使用讲台下方的USB延长线或直接插在主机上<br>（2）若U盘是64g及以上请尝试重新安装U盘驱动（ps：记得解除还原卡驱动）<br>（3）若有双系统可尝试切换到另一个系统，如win7</p>
</blockquote>
</li>
</ul>
<h3 id="鹅颈麦"><a href="#鹅颈麦" class="headerlink" title="鹅颈麦"></a>鹅颈麦</h3><ul>
<li><p>鹅颈麦没有声音</p>
<blockquote>
<p>（1）检查鹅颈麦是否有打开（灯是否亮)<br>（2）检查功放是否将鹅颈麦的声音调到太小<br>（3）检查鹅颈麦和功放之间的线是否有插好<br>（4）对鹅颈麦的部件进行跟换，找出损坏部件进行更换</p>
</blockquote>
</li>
<li><p>鹅颈麦有杂音</p>
<blockquote>
<p>（1）摇晃鹅颈麦的接线，检查是否有杂音（有的话进行更换）<br>（2）摇晃鹅颈麦上半部分的麦把，检查是否有杂音（有的话进行更换）<br>（3）调节功放的无线麦接口旋钮和麦克风总音量旋钮<br>（4）将无线麦的插线插到功放的其他接口上，或者将有线麦的接口和无线麦的接口进行交换，再进行第一步调音</p>
</blockquote>
</li>
<li><p>鹅颈麦声音太小或音色异常</p>
<blockquote>
<p>（1）调节功放的无线麦接口旋钮和麦克风总音量旋钮<br>（2）将无线麦的插线插到功放的其他接口上，或者将有线麦的接口和无线麦的接口进行交换，再进行第一步调音<br>（3）调节功放的高低音旋钮进行平衡</p>
</blockquote>
</li>
</ul>
<h3 id="无线麦"><a href="#无线麦" class="headerlink" title="无线麦"></a>无线麦</h3><ul>
<li><p>无线麦没有声音</p>
<blockquote>
<p>（1）确认无线麦电量是否充足，是否有亮灯，在接上电源线后是否能正常开启，（高频率闪红色和蓝色是在对频率，低频率闪蓝色光则代表已经对频成功）<br>（2）将无线麦靠近讲台下方进行对频</p>
</blockquote>
</li>
<li><p>无线麦声音太小或有杂音</p>
<blockquote>
<p>（1）调节功放的无线麦接口旋钮和麦克风总音量旋钮<br>（2）将无线麦的插线插到功放的其他接口上，或者将有线麦的接口和无线麦的接口进行交换，再进行第一步调音</p>
</blockquote>
</li>
<li><p>无线麦无法控制PPT翻页</p>
<blockquote>
<p>（1）检查电脑后面或者前面的u盘接收器是否有闪（如果没有闪，换一下接口插上或者找老师进行更换）</p>
</blockquote>
</li>
</ul>
<h3 id="功放等设备示意图"><a href="#功放等设备示意图" class="headerlink" title="功放等设备示意图"></a>功放等设备示意图</h3><p><img src="https://raw.githubusercontent.com/1483398701/images/master/img/gf.png"></p>
<h3 id="投影仪"><a href="#投影仪" class="headerlink" title="投影仪"></a>投影仪</h3><ul>
<li><p>投影仪不亮或打不开</p>
<blockquote>
<p>（1）检查中控是否打开<br>（2）使用抽屉里的遥控对投影仪进行开机<br>（3）检查投影仪与中控间的接线是否有接好</p>
</blockquote>
</li>
<li><p>投影颜色不对或不清晰</p>
<blockquote>
<p>（1）调整讲台下方投影仪的接口，查看是否有插紧<br>（2）如果是投影仪泛黄，可能是投影仪灯泡问题，报告老师进行更换</p>
</blockquote>
</li>
</ul>
<h2 id="软件问题"><a href="#软件问题" class="headerlink" title="软件问题"></a>软件问题</h2><h3 id="office"><a href="#office" class="headerlink" title="office"></a>office</h3><ul>
<li>严重卡顿或启动速度慢<blockquote>
<p>（1）尝试重新安装office，若同时存在WPS以及office则取舍一个<br>（2）若有电脑有安装雨课堂则无解</p>
</blockquote>
</li>
</ul>
<h3 id="输入法"><a href="#输入法" class="headerlink" title="输入法"></a>输入法</h3><ul>
<li>安装日语输入法<blockquote>
<p>可从FTP拉取安装包，存放位置：软件集</p>
</blockquote>
</li>
</ul>
]]></content>
      <categories>
        <category>维护</category>
      </categories>
      <tags>
        <tag>维护</tag>
      </tags>
  </entry>
  <entry>
    <title>Zabbix Server 安装</title>
    <url>/2020/08/05/zabbix1/</url>
    <content><![CDATA[<pre><code>这里的内容是个人的经验总结，如有遗漏或错误欢迎指正</code></pre>
<h2 id="Zabbix简介"><a href="#Zabbix简介" class="headerlink" title="Zabbix简介"></a>Zabbix简介</h2><blockquote>
<p>Zabbix 是一个企业级的分布式开源监控方案，能够监控各种网络参数以及服务器健康性和完整性的软件。简单来说就是服务器等设备的监控面板程序，而且是开源免费的。<br>Zabbix 由两部分构成，Zabbix Server（服务端） 与可选组件 Zabbix Agent（客户端）。Zabbix Server 可以通过 SNMP，Zabbix Agent，ping，端口监视等方法提供对远程服务器/网络状态的监视，数据收集等功能。</p>
</blockquote>
<hr>
<h2 id="Zabbix-安装"><a href="#Zabbix-安装" class="headerlink" title="Zabbix 安装"></a>Zabbix 安装</h2><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>为了配置环境方便，提前安装了宝塔面板作为环境支持，宝塔面板安装方法可前往宝塔面板查看:<br><a href="https://www.bt.cn/" target="_blank">宝塔面板</a></p>
<h3 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h3><ul>
<li>Parallels Desktop 14</li>
<li>CentOS 7</li>
<li>LNMP<ul>
<li>MySQL版本 &gt;= 5.7</li>
<li>PHP版本 &gt;= 7.3</li>
</ul>
</li>
</ul>
<a id="more"></a>

<h3 id="部署-Zabbix-Server"><a href="#部署-Zabbix-Server" class="headerlink" title="部署 Zabbix Server"></a>部署 Zabbix Server</h3><h4 id="为-Zabbix-运行创建用户"><a href="#为-Zabbix-运行创建用户" class="headerlink" title="为 Zabbix 运行创建用户"></a>为 Zabbix 运行创建用户</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">groupadd zabbix</span><br><span class="line">useradd zabbix -g zabbix -s &#x2F;sbin&#x2F;nologin</span><br></pre></td></tr></table></figure>

<h4 id="安装-zabbix-所需依赖"><a href="#安装-zabbix-所需依赖" class="headerlink" title="安装 zabbix 所需依赖"></a>安装 zabbix 所需依赖</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum -y install epel-release</span><br><span class="line">yum -y install net-snmp-devel fping</span><br></pre></td></tr></table></figure>

<h4 id="下载-zabbix-源码并解压"><a href="#下载-zabbix-源码并解压" class="headerlink" title="下载 zabbix 源码并解压"></a>下载 zabbix 源码并解压</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;cdn.zabbix.com&#x2F;zabbix&#x2F;sources&#x2F;stable&#x2F;5.0&#x2F;zabbix-5.0.1.tar.gz</span><br><span class="line">tar -zxvf zabbix-5.0.1.tar.gz</span><br></pre></td></tr></table></figure>

<h4 id="编译解压后的程序"><a href="#编译解压后的程序" class="headerlink" title="编译解压后的程序"></a>编译解压后的程序</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;configure -h   # 查看其他参数说明 </span><br><span class="line">.&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;zabbix --enable-server --enable-agent --with-mysql --enable-ipv6 --with-net-snmp --with-libcurl --with-libxml2</span><br></pre></td></tr></table></figure>
<p>若无报错（我就没有遇到，所以报错请尝试百度或谷歌解决）则可以开始安装</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">make install</span><br></pre></td></tr></table></figure>

<h4 id="在宝塔面板建立新站点"><a href="#在宝塔面板建立新站点" class="headerlink" title="在宝塔面板建立新站点"></a>在宝塔面板建立新站点</h4><p><img src="https://raw.githubusercontent.com/1483398701/images/master/img/zabbix1.png" alt="建立新站点"><br>为了避免出现一些奇怪的问题，数据库后面手动创建</p>
<h4 id="建立-zabbix-数据库"><a href="#建立-zabbix-数据库" class="headerlink" title="建立 zabbix 数据库"></a>建立 zabbix 数据库</h4><p>1、 使用命令行创建 zabbix 数据库</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">shell&gt; mysql -uroot -p&lt;password&gt;</span><br><span class="line">mysql&gt; create database zabbix character set utf8 collate utf8_bin;</span><br><span class="line">mysql&gt; create user &#39;zabbix&#39;@&#39;localhost&#39; identified by &quot;&lt;password&gt;&quot;;</span><br><span class="line">mysql&gt; grant all privileges on zabbix.* to &#39;zabbix&#39;@&#39;localhost&#39;;</span><br><span class="line">mysql&gt; quit;</span><br></pre></td></tr></table></figure>

<p>2、找到前面下载解压的源码文件，进入 /database/mysql 目录，分别按顺序导入schema.sql、images.sql、data.sql 这三个文件完成初始数据的导入。</p>
<pre><code>注意文件路径不一定相同！</code></pre>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">mysql&gt; use zabbix;</span><br><span class="line">mysql&gt; source &#x2F;usr&#x2F;local&#x2F;zabbix-5.0.1&#x2F;database&#x2F;mysql&#x2F;schema.sql;</span><br><span class="line">mysql&gt; source &#x2F;usr&#x2F;local&#x2F;zabbix-5.0.1&#x2F;database&#x2F;mysql&#x2F;images.sql;</span><br><span class="line">mysql&gt; source &#x2F;usr&#x2F;local&#x2F;zabbix-5.0.1&#x2F;database&#x2F;mysql&#x2F;data.sql;</span><br><span class="line">mysql&gt; quit;</span><br></pre></td></tr></table></figure>

<h4 id="修改-zabbix-配置文件"><a href="#修改-zabbix-配置文件" class="headerlink" title="修改 zabbix 配置文件"></a>修改 zabbix 配置文件</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi &#x2F;usr&#x2F;local&#x2F;zabbix&#x2F;etc&#x2F;zabbix_server.conf</span><br></pre></td></tr></table></figure>
<p>将其中 DBName、DBUser 和 DBPassword 的值替换为前面创建的数据的名称、用户名和密码<br>然后在宝塔面板中放行10051端口或直接关闭防火墙</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 关闭防火墙</span><br><span class="line">systemctl stop firewalld.service</span><br><span class="line"># 开机不启动防火墙</span><br><span class="line">systemctl disable firewalld.service</span><br></pre></td></tr></table></figure>

<h4 id="修改宝塔面板中-PHP-配置"><a href="#修改宝塔面板中-PHP-配置" class="headerlink" title="修改宝塔面板中 PHP 配置"></a>修改宝塔面板中 PHP 配置</h4><p>将下图中的max_input_time的值改为300<br><img src="https://raw.githubusercontent.com/1483398701/images/master/img/zabbix1-2.png" alt="配置修改"><br>并删除禁用函数中的putenv函数<br><img src="https://raw.githubusercontent.com/1483398701/images/master/img/zabbix1-3.png" alt="禁用函数"></p>
<h4 id="启动-zabbix"><a href="#启动-zabbix" class="headerlink" title="启动 zabbix"></a>启动 zabbix</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;usr&#x2F;local&#x2F;zabbix&#x2F;sbin&#x2F;zabbix_server</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;zabbix&#x2F;sbin&#x2F;zabbix_agentd</span><br></pre></td></tr></table></figure>
<p>可将命令添加到开机自启</p>
<h3 id="Zabbix-Web-端"><a href="#Zabbix-Web-端" class="headerlink" title="Zabbix Web 端"></a>Zabbix Web 端</h3><p>将本地解压的 Zabbix 源码文件中的 ui 目录中的所有内容，上传到刚才新建的站点根目录中，访问站点并根据流程安装程序，开始使用。<br>PS: PHP LDAP 的warning可忽略</p>
<h3 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h3><ul>
<li>手动创建的数据库可能没有在面板的数据库栏中直接显示，只需要点击”从服务器获取”按钮即可</li>
</ul>
]]></content>
      <categories>
        <category>运维</category>
        <category>zabbix</category>
      </categories>
      <tags>
        <tag>运维</tag>
        <tag>zabbix</tag>
      </tags>
  </entry>
</search>
